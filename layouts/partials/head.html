<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
{{- if hugo.IsProduction | or (eq site.Params.env "production") | and (ne .Params.robotsNoIndex true) }}
<meta name="robots" content="index, follow">
{{- else }}
<meta name="robots" content="noindex, nofollow">
{{- end }}

{{- /* Title */}}
<title>{{ if .IsHome }}{{ else }}{{ if .Title }}{{ .Title }} | {{ end }}{{ end }}{{ site.Title }}</title>

{{- /* Meta */}}
{{- if .IsHome }}
{{ with site.Params.keywords -}}<meta name="keywords" content="{{- range $i, $e := . }}{{ if $i }}, {{ end }}{{ $e }}{{ end }}">{{ end }}
{{- else }}
<meta name="keywords" content="{{ if .Params.keywords -}}
    {{- range $i, $e := .Params.keywords }}{{ if $i }}, {{ end }}{{ $e }}{{ end }} {{- else }}
    {{- range $i, $e := .Params.tags }}{{ if $i }}, {{ end }}{{ $e }}{{ end }} {{- end -}}">
{{- end }}
<meta name="description" content="{{- with .Description }}{{ . }}{{- else }}{{- if or .IsPage .IsSection}}
    {{- .Summary | default (printf "%s - %s" .Title  site.Title) }}{{- else }}
    {{- with site.Params.description }}{{ . }}{{- end }}{{- end }}{{- end -}}">
<meta name="author" content="Eric Spencer">
<!-- Additional SEO meta tags -->
<meta property="og:title" content="{{ if .IsHome }}{{ site.Title }}{{ else }}{{ if .Title }}{{ .Title }} | {{ end }}{{ site.Title }}{{ end }}">
<meta property="og:description" content="{{- with .Description }}{{ . }}{{- else }}{{- if or .IsPage .IsSection}}
    {{- .Summary | default (printf "%s - %s" .Title  site.Title) }}{{- else }}
    {{- with site.Params.description }}{{ . }}{{- end }}{{- end }}{{- end -}}">
<meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
<meta property="og:url" content="{{ .Permalink }}">
<meta property="og:site_name" content="{{ site.Title }}">
{{ if .IsHome }}<meta property="og:image" content="{{ site.Params.avatar | default "images/avatar.jpeg" | absURL }}">{{ end }}
<!-- LinkedIn Card -->
<meta property="linkedin:title" content="{{ if .IsHome }}{{ site.Title }}{{ else }}{{ if .Title }}{{ .Title }} | {{ end }}{{ site.Title }}{{ end }}">
<meta property="linkedin:description" content="{{- with .Description }}{{ . }}{{- else }}{{- if or .IsPage .IsSection}}
    {{- .Summary | default (printf "%s - %s" .Title  site.Title) }}{{- else }}
    {{- with site.Params.description }}{{ . }}{{- end }}{{- end }}{{- end -}}">
{{ if .IsHome }}<meta property="linkedin:image" content="{{ site.Params.avatar | default "images/avatar.jpeg" | absURL }}">{{ end }}
<link rel="canonical" href="{{ if .Params.canonicalURL -}} {{ trim .Params.canonicalURL " " }} {{- else -}} {{ .Permalink }} {{- end }}">
<!-- Alternate domain reference -->
<link rel="alternate" href="{{ if eq (printf "%s" .Permalink) (printf "%s" (replace .Permalink "espencer.me" "ericspencer00.github.io")) }}{{ replace .Permalink "espencer.me" "ericspencer00.github.io" }}{{ else }}{{ replace .Permalink "ericspencer00.github.io" "espencer.me" }}{{ end }}" />

{{- /* Basic CSS from PaperMod theme */}}
{{- $theme_vars := resources.Get "css/core/theme-vars.css" }}
{{- if $theme_vars }}
<link rel="stylesheet" href="{{ ($theme_vars | minify).RelPermalink }}">
{{- end }}

{{- $reset := resources.Get "css/core/reset.css" }}
{{- if $reset }}
<link rel="stylesheet" href="{{ ($reset | minify).RelPermalink }}">
{{- end }}

{{- $common_files := resources.Match "css/common/*.css" }}
{{- if $common_files }}
{{- $common := $common_files | resources.Concat "assets/css/common.css" | resources.Minify }}
<link rel="stylesheet" href="{{ $common.RelPermalink }}">
{{- end }}

{{- /* Include highlight.js if needed */}}
{{- $isHLJSdisabled := (site.Params.assets.disableHLJS | default false) }}
{{- if not $isHLJSdisabled }}
{{- $hljs := resources.Get "css/hljs/an-old-hope.min.css" }}
{{- if $hljs }}
<link rel="stylesheet" href="{{ $hljs.RelPermalink }}">
{{- end }}
{{- end }}

{{- /* Add scroll bar style if needed */}}
{{- if not (eq site.Params.assets.disableScrollBarStyle true) }}
{{- $scrollStyle := resources.Get "css/includes/scroll-bar.css" }}
{{- if $scrollStyle }}
<link rel="stylesheet" href="{{ ($scrollStyle | minify).RelPermalink }}">
{{- end }}
{{- end }}

{{- $media := resources.Get "css/core/zmedia.css" }}
{{- if $media }}
<link rel="stylesheet" href="{{ ($media | minify).RelPermalink }}">
{{- end }}

{{- /* Extended CSS */}}
{{- $extended_files := resources.Match "css/extended/*.css" }}
{{- if $extended_files }}
{{- $extended := $extended_files | resources.Concat "assets/css/extended.css" | resources.Minify }}
<link rel="stylesheet" href="{{ $extended.RelPermalink }}">
{{- end }}

{{- /* Custom CSS */}}
{{- $projectGridCSS := resources.Get "css/projects-grid.css" }}
{{- if $projectGridCSS }}
<link rel="stylesheet" href="{{ ($projectGridCSS | minify).RelPermalink }}">
{{- end }}

{{- $projectFiltersCSS := resources.Get "css/project-filters.css" }}
{{- if $projectFiltersCSS }}
<link rel="stylesheet" href="{{ ($projectFiltersCSS | minify).RelPermalink }}">
{{- end }}

{{- /* Favicons */}}
<link rel="icon" href="{{ site.Params.assets.favicon | default "favicon.ico" | absURL }}">
<link rel="icon" type="image/png" sizes="16x16" href="{{ site.Params.assets.favicon16x16 | default "favicon-16x16.png" | absURL }}">
<link rel="icon" type="image/png" sizes="32x32" href="{{ site.Params.assets.favicon32x32 | default "favicon-32x32.png" | absURL }}">
<link rel="apple-touch-icon" href="{{ site.Params.assets.apple_touch_icon | default "apple-touch-icon.png" | absURL }}">
<link rel="mask-icon" href="{{ site.Params.assets.safari_pinned_tab | default "safari-pinned-tab.svg" | absURL }}">
<meta name="theme-color" content="{{ site.Params.assets.theme_color | default "#2e2e33" }}">
<meta name="msapplication-TileColor" content="{{ site.Params.assets.msapplication_TileColor | default "#2e2e33" }}">

{{- /* Generator */}}
{{ hugo.Generator }}

{{- /* RSS */}}
{{ range .AlternativeOutputFormats -}}
<link rel="{{ .Rel }}" type="{{ .MediaType.Type | html }}" href="{{ .Permalink | safeURL }}">
{{ end -}}
{{- range .AllTranslations -}}
<link rel="alternate" hreflang="{{ .Lang }}" href="{{ .Permalink }}">
{{ end -}}

<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }
    </style>
    {{- if (and (ne site.Params.defaultTheme "light") (ne site.Params.defaultTheme "dark")) }}
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }
    </style>
    {{- end }}
</noscript>

{{- /* Custom head tags */}}
{{- if templates.Exists "partials/extra-head.html" -}}
{{ partial "extra-head.html" . }}
{{- end -}}
